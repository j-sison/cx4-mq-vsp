<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>MQ Selective Purge</title>
    <link rel="stylesheet" href="mqSelectivePurge.css"> <!-- Link to external CSS -->
</head>
<body>
    <div class="container">
        <h2>MQ Selective Purge</h2>
        <form action="/mq-consumer/selectivePurge" method="GET" onsubmit="return confirmPurge()">
            <div class="form-group">
                <label for="host">Host:</label>
                <input type="text" id="host" name="host" value="cs-v-mqdev1.champ.aero" required>
            </div>
            <div class="form-group">
                <label for="manager">Manager:</label>
                <input type="text" id="manager" name="manager" value="CCSLUXD1" required>
            </div>
            <div class="form-group">
                <label for="channel">Channel:</label>
                <input type="text" id="channel" name="channel" value="CS.SVRCONN" required>
            </div>
            <div class="form-group">
                <label for="port">Port:</label>
                <input type="text" id="port" name="port" value="1414" required>
            </div>
            <div class="form-group">
                <label for="queue">Queue:</label>
                <input type="text" id="queue" name="queue" value="CS.DEV.TEST2.OUT" required>
            </div>
            <div class="form-group">
                <label for="textToPurge">Text Criteria:</label>
                <input type="text" id="textToPurge" name="textToPurge" placeholder="e.g. 160-49153860" required>
                <small>If message contains this text, it will be deleted.</small>
            </div>
            <div class="form-group">
                <label for="deleteCount">Delete Count:</label>
                <input type="number" id="deleteCount" name="deleteCount" value="0" required>
                <small>Only delete records up to this count.</small>
            </div>
            <div class="form-group">
                <label for="skipCount">Skip Count:</label>
                <input type="number" id="skipCount" name="skipCount" value="0" required>
                <small>Skip matching records up to this count.</small>
            </div>
            <div class="button-group">
                <input type="submit" class="submit-btn" value="Purge">
                <button type="button" class="home-btn" onclick="goHome()">Home</button>
            </div>
        </form>
    </div>
    
    <script>
        function goHome() {
            window.location.href = "/mq-consumer/";
        }
        
        function confirmPurge() {
            return confirm("Are you sure you want to purge selected messages? This action cannot be undone.");
        }
    </script>
</body>
</html>
